<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
</head>
<body>
    <button id="btn">4번 버튼</button>
    <script>
        // this 정리
        // 1. 그냥 씀
        // let x = this;
        // console.log("1 " + x);

        // // 2. 함수안에서 쓴 this
        // function myFunction(){
        //     return this;
        // }
        // console.log("2 " + myFunction())

        // // 3. 객체의 메소드로 쓴 this
        // let person = {
        //     firstName: "John",
        //     lastName: "Doe",
        //     fullName: function() {
        //         return this.firstName + " " + this.lastName
        //     }
        // }
        // console.log("3 " + person.fullName())

        // // 4. 이벤트에서 쓴 this
        // let btn = document.querySelector("#btn");
        // btn.addEventListener("click", function(){
        //     console.log("click");
        //     console.log(this);
        // })

        // // 5. 객체 생성자에서 쓴 this
        // function Person(name) {
        //     this.name = name;
        // }
        // // 객체 만드는데 생성자 형태로 만드는 방법
        // let kim = new Person("kim");
        // let lee = new Person("lee");

        // console.log(kim.name)
        // console.log(lee.name)

        // // 6. 화살표 함수의 this
        // // 객체 정의
        // // 함수안의 함수 형태에서는 this가 window가 됨
        // // 에러: undefined
        // let Person = function(name, age) {
        //     this.name = name;
        //     this.age = age;
        //     this.say = function() {
        //         console.log(this); // 객체 Person{name: "Nana", age: 28}

        //         setTimeout(function() {
        //             console.log(this);
        //             console.log(this.name + " is " + this.age + " tears old")
        //         }, 1000)
        //     }
        // };

        let Person = function(name, age) {
            this.name = name;
            this.age = age;
            this.say = function() {
                console.log(this); // 객체 Person{name: "Nana", age: 28}
                // 해결책 : 일반 함수를 화살표 함수로 고침
                setTimeout(() => {
                    console.log(this);
                    console.log(this.name + " is " + this.age + " tears old")
                }, 1000)
            }
        };


        // 객체 생성자 함수 호출해서 생성
        let me = new Person("Nana", 28);

        me.say();
    </script>
</body>
</html>